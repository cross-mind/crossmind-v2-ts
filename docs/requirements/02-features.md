# 产品功能模块

> 📖 **相关文档**：[概述](./01-overview.md) | [产品需求文档 (PRD)](../PRD.md) | [技术架构设计](../ARCHITECTURE.md)

## 2.1 Canvas：想法到战略的演化空间

### 2.1.1 核心定位

用 AI + 预设思维框架，帮用户在一个大 Canvas 里梳理「想法 → 调研 → 原型 → 迭代」，形成项目战略。

### 2.1.2 功能要点

**1. Canvas 展示项目文档全貌**

- **节点核心**：所有节点都是文档（Document），包含 Markdown 内容

- **标签系统**：通过标签组织类型和层次结构
  - **类型标签**：`type/idea`, `type/research`, `type/prototype`, `type/iteration` 等
  - **层次标签**：`level/strategy`, `level/module`, `level/task` 等
  - **自定义标签**：支持任意命名空间的标签，如 `stage/design`, `priority/high` 等

- **节点属性**：
  - 标题（title）
  - 文档内容（Markdown）
  - 标签（tags）- 支持 namespace:value 格式
  - 关联任务 ID（tasks.id）
  - 关联 Agent 任务 ID（agent_orders.id）
  - 状态（未开始/进行中/阻塞/完成）
  - 位置信息（position_x, position_y）
  - 创建/更新时间

**2. AI 辅助持续完善**

- **对话入口**：在 Canvas 任意节点上发起对话
- **AI 能力**：
  - 利用项目上下文（RAG + 对话历史）
  - 直接修改/新建 Canvas 节点
  - 输出结构化内容（OKR、User Story、PRD、业务流程）

**3. 进度、问题、待办标记**

- **节点标记**：
  - 进度状态（未开始/进行中/阻塞/完成）
  - 问题描述（阻塞原因、风险）
  - 待办事项（可转成任务中心的 Task）

- **AI 扫描**：
  - 自动识别「缺失模块/风险点」
  - 建议生成任务或 Agent 任务

**4. 方法论 Product Kit**

- **预设模板**：
  - 市场分析框架
  - 商业模式画布
  - 产品战略分解（问题 → 解决方案 → 价值 → 渠道 → 增长）

- **AI 辅助**：
  - 在模板上填空
  - 点评现有内容
  - 进一步拆分细化

---

## 2.2 任务中心：项目推进的操作系统

### 2.2.1 核心定位

类 Linear/Jira 的看板 + 列表任务系统，且深度 AI 化。

### 2.2.2 核心能力

**1. 任务结构**

- **视图**：
  - 看板视图（Kanban）：按状态分列
  - 列表视图（List）：支持多维过滤/分组

- **标签系统**：
  - 支持 namespace：`stage/design`, `stage/dev`, `risk/high`
  - 支持多标签过滤

- **排序/分组**：
  - 按 owner、priority、tag namespace 等

**2. 任务活动流 & 评论**

- **Activity Feed**：
  - 状态流转记录
  - 字段变更（优先级、标签、负责人）
  - AI Agent 的自动更新

- **评论系统**：
  - 支持 @ 人
  - 嵌入 AI 回复
  - 支持 Markdown

**3. 多用户协作**

- **角色系统**：
  - Owner：项目所有者，拥有全部权限
  - Member：项目成员，可创建/编辑任务
  - Guest：访客，只读权限

- **权限约束**：
  - 谁能创建/删除任务
  - 谁能触发某类 Agent 任务（比如带 Bash 的）

**4. AI 融合**

- **任务抽取**：
  - 从会话/Canvas 中抽取任务
  - 「把本次讨论拆成 5 个可执行任务」→ 自动建 Task

- **状态自动更新**：
  - Agent 完成某阶段产出 → 任务状态变更 + Feed 记录

---

## 2.3 Agent 雇佣中心：Agent 版 Fiverr

### 2.3.1 核心定位

用户按「标准化服务」雇佣平台内的 Agent（目前主要是 CrossMind Official 提供），按结果付费。

### 2.3.2 基本模型

**Agent 服务项结构**：
- 提供方（目前：CrossMind Official）
- 任务描述（要解决什么问题）
- 工作步骤概要（Agent 会怎么做）
- 用户输入（表单 + 指南）
- 所需权限（GitHub 仓库/Notion/Stripe/Vercel 等）
- 产物形态（Markdown/PPT/CSV/PDF/图片/PR/Issue 等）

**用户流程**：
1. 浏览服务列表 → 进入详情
2. 确认服务说明、价格、反馈次数限制
3. 填写输入 + 授权
4. 下单后生成项目内一个 Task（或一组 Task）
5. Agent 开始工作 → 中间支持多轮「评论反馈 → 迭代更新」
6. 用户完成后给出评价（匿名展示）

**限制**：
- 每个服务有 3–5 次迭代反馈上限（根据服务配置）
- 平台 UI 要明显提示「还剩几次迭代机会」

### 2.3.3 Agent 账号模型

**临时账号机制**：
- 每个 Agent 任务会被分配一个临时账号（类似虚拟成员）
- 在任务中心可见为一个「虚拟同事」：
  - 参与任务评论
  - 更新任务状态
  - 推送工作进度

**权限控制**：
- 只在该项目范围内
- 只对授予的工具/集成有权限

### 2.3.4 典型 Agent 服务示例

**1. 需求调研类**
- Reddit 调研（用户指定关键词/目标用户群）
- Product Hunt 同类产品检索 + 分析

**2. 设计阶段**
- **头脑风暴**：
  - 对话引导
  - 产出 Notion 风格概念文档、商业模式、业务设计
- **需求设计**：
  - 输出 `docs/design.md` 设计文档草稿
- **想法演示**：
  - 生成 PPT 大纲
  - 生成需求文档结构（支持导出）

**3. 实施迭代阶段**
- **Waitlist landing page** 搭建方案/代码草稿
- **技术选型与架构设计**（Web/小程序/App/桌面/网站）
- **日常任务 Enrich**：
  - 基于粗糙输入创建 issue、整理 bug、拆解任务 → 更新需求文档
- **GitHub**：
  - 仓库自动配置基础 workflow
  - PR 分支预览配置建议
  - Issue triage：自动分类/完善描述
- **Vercel**：
  - 前后端错误日志分析 → 自动建议修复方案/打标签/创建任务

**4. 市场与运营阶段**
- **Stripe**：
  - 订单/订阅查询
  - 优惠规则创建草稿
- **Campaign**：
  - 讨论活动目标和策略
  - 拆解任务、分配到任务中心（按 skill/owner）
